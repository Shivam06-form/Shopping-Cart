(this["webpackJsonp11-practice-food-order-app"]=this["webpackJsonp11-practice-food-order-app"]||[]).push([[0],{12:function(e,t,n){e.exports={header:"Header_header__1F_iZ",heading:"Header_heading__3Uk9e"}},15:function(e,t,n){e.exports={search:"searchBar_search__3RwOR",product:"searchBar_product__2B58c",loader:"searchBar_loader__KNptd",spin:"searchBar_spin__3gnjQ"}},18:function(e,t,n){e.exports={overall:"Cart_overall__3Qr4k",products:"Cart_products__gVMqB",container:"Cart_container__1w1Ij"}},21:function(e,t,n){e.exports={products:"Products_products__2_Rwo",enter:"Products_enter__KZLKg",container:"Products_container__WzNI9"}},26:function(e,t,n){e.exports={info:"infoshow_info__1W-Os"}},31:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(23),s=n.n(a),i=(n(31),n(7)),o=r.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),j=n(18),d=n.n(j),l=n(0),u=function(e){return Object(l.jsx)(c.Fragment,{children:Object(l.jsxs)("div",{className:d.a.products,children:[Object(l.jsx)("img",{src:e.Image,alt:"Images",style:{width:"100%"}}),Object(l.jsxs)("div",{className:d.a.container,children:[Object(l.jsx)("h4",{children:Object(l.jsx)("b",{children:e.Price})}),Object(l.jsx)("p",{children:e.Name}),Object(l.jsx)("button",{onClick:e.onAdd,children:"+"}),Object(l.jsx)("button",{onClick:e.onRemove,children:"-"}),Object(l.jsxs)("h3",{children:[e.Amount," x "]})]})]})})},b=function(){var e=Object(c.useContext)(o),t=JSON.parse(localStorage.getItem("items")),n=function(t){e.removeItem(t)},r=function(t){e.addItem(Object(i.a)(Object(i.a)({},t),{},{amount:1}))};if(!t)return Object(l.jsx)("p",{children:" Cart is Empty"});var a=t.map((function(e){return Object(l.jsx)(u,{id:e.id,Name:e.Name,Price:e.Price,Image:e.Image,Amount:e.amount,onRemove:n.bind(null,e.id),onAdd:r.bind(null,e)},e.id)}));return 0!==t.length&&t?Object(l.jsxs)("div",{children:[0===t.length&&!t&&Object(l.jsx)("p",{children:"No Cart items"}),!a&&Object(l.jsx)("p",{children:"LoadCartItems"}),a]}):Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Empty cart"})})},h=n(2),m=n(6),O=n(12),x=n.n(O),p=function(){var e=JSON.parse(localStorage.getItem("items")),t=Object(c.useContext)(o);if(console.log(t.items),!e)return Object(l.jsx)("div",{className:x.a.header,children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)("h2",{className:x.a.heading,children:"Shopping.Com "})}),Object(l.jsx)("li",{children:Object(l.jsx)("h3",{children:Object(l.jsxs)(m.b,{to:"/Shopping-Cart/CartItems",children:[Object(l.jsx)("span",{children:"Favourite \ud83d\udc7d"})," "]})})}),Object(l.jsx)("li",{children:Object(l.jsx)("h3",{children:Object(l.jsxs)(m.b,{to:"/Shopping-Cart",children:[Object(l.jsx)("span",{children:"HOME"})," "]})})})]})});var n=e.reduce((function(e,t){return e+t.amount}),0);return Object(l.jsx)("div",{className:x.a.header,children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)("h2",{className:x.a.heading,children:"Shopping.Com "})}),Object(l.jsx)("li",{children:Object(l.jsx)("h3",{children:Object(l.jsxs)(m.b,{to:"/Shopping-Cart/CartItems",children:[Object(l.jsxs)("span",{children:["Favourite \ud83d\udc7d",n]})," "]})})}),Object(l.jsx)("li",{children:Object(l.jsx)("h3",{children:Object(l.jsxs)(m.b,{to:"/Shopping-Cart",children:[Object(l.jsx)("span",{children:"HOME"})," "]})})})]})})},g=n(9),f=n.n(g),v=n(13),_=n(5),N=n(21),C=n.n(N),I=function(e){var t=Object(c.useContext)(o);localStorage.setItem("itemsTotal",JSON.stringify(t.totalAmount));var n=Object(c.useState)(!0),r=Object(_.a)(n,2),a=r[0],s=r[1];return Object(l.jsx)(c.Fragment,{children:Object(l.jsxs)("div",{className:C.a.products,children:[Object(l.jsx)("h2",{children:e.Name}),Object(l.jsx)("img",{src:e.thumbnail,alt:"Avatar",style:{width:"100%"}}),Object(l.jsxs)("div",{className:C.a.container,children:[Object(l.jsxs)("h4",{children:[Object(l.jsxs)("b",{children:[" On Air: ",e.airdate]}),Object(l.jsxs)("b",{children:[" EndDate: ",e.EndDate]})]}),Object(l.jsxs)("p",{children:[" Genres: ",e.genres[0]," , ",e.genres[1]," ,",e.genres[2]," "]}),a&&Object(l.jsx)("button",{onClick:function(n){return n.preventDefault(),t.addItem({id:e.id,Name:e.Name,AirDate:e.airdate,EndDate:e.EndDate,Image:e.thumbnail,genres:e.genres,amount:t.addItem.length,totalAmount:t.totalAmount}),s(!1)},children:"Add To Favorites"}),!a&&Object(l.jsx)("p",{children:"Already In Cart"})]}),Object(l.jsx)(m.c,{to:"/Shopping-Cart/Info/".concat(e.id),children:"View More"})]})})},S=n(15),P=n.n(S),y=n.p+"static/media/CS-GO-image.ecd7a38d.jpg",A=n(8),k=n.n(A),w=function(e){var t=Math.ceil(e.products.length/e.resultPerPage);return 1===e.currentPage&&t>1?Object(l.jsx)("div",{className:k.a.post,children:Object(l.jsxs)("button",{onClick:function(){return e.nextPage(1)},className:k.a.buttonleft,children:["Page ",e.currentPage+1," "]})}):e.currentPage===t?Object(l.jsx)("div",{className:k.a.post,children:Object(l.jsxs)("button",{onClick:function(){return e.nextPage(-1)},children:["Page ",e.currentPage-1," "]})}):e.currentPage<t?Object(l.jsx)(c.Fragment,{children:Object(l.jsxs)("div",{className:k.a.post,children:[Object(l.jsxs)("button",{onClick:function(){return e.nextPage(-1)},children:["Page ",e.currentPage-1," "]}),Object(l.jsxs)("button",{className:k.a.buttonright,onClick:function(){return e.nextPage(1)},children:["Page ",e.currentPage+1]})]})}):Object(l.jsx)("div",{className:k.a.post})},E=function(){var e=Object(c.useState)(""),t=Object(_.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(_.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(!1),d=Object(_.a)(j,2),u=d[0],b=d[1],h=Object(c.useState)(1),m=Object(_.a)(h,2),O=m[0],x=m[1],p=function(){var e=Object(v.a)(f.a.mark((function e(){var t,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" https://api.tvmaze.com/shows");case 2:return t=e.sent,e.next=5,t.json();case 5:if(c=e.sent,r=c.filter((function(e){return e.name.toLowerCase().trim().includes(n)})),0!==n.length||n){e.next=9;break}return e.abrupt("return",Object(l.jsx)("p",{children:"Bla Bla"}));case 9:b(!0),o(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=20*(O-1),N=20*O,C=function(e){return x(O+e)},S=i.slice(g,N).map((function(e){return Object(l.jsx)(I,{id:e.id,Name:e.name,airdate:e.premiered,EndDate:e.ended,genres:e.genres,thumbnail:e.image?e.image.original:y},e.id)}));return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsxs)("div",{className:P.a.search,children:[Object(l.jsx)("input",{value:n,onChange:function(e){e.preventDefault(),r(e.target.value)},placeholder:"Search..",type:"text",id:"search",onKeyDown:function(e){13===e.keyCode&&(p(),x(1))}}),Object(l.jsx)("button",{onClick:p,children:"Search"})]}),!u&&Object(l.jsx)("h2",{className:P.a.product,children:"Search The Best............."}),i&&Object(l.jsx)(w,{products:i,resultPerPage:20,currentPage:O,nextPage:C}),u&&0===S.length&&Object(l.jsx)("h2",{className:P.a.product,children:"No products Found..."}),u&&S,i&&Object(l.jsx)(w,{products:i,resultPerPage:20,currentPage:O,nextPage:C})]})},D=n(22),R={items:[],totalAmount:0},F=function(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.Price*t.item.amount,r=e.items.findIndex((function(e){return e.id===t.item.id})),a=e.items[r];if(localStorage.setItem("items",JSON.stringify(n)),a){var s=Object(i.a)(Object(i.a)({},a),{},{amount:a.amount+t.item.amount});(n=Object(D.a)(e.items))[r]=s,localStorage.setItem("items",JSON.stringify(n))}else n=e.items.concat(t.item),localStorage.setItem("items",JSON.stringify(n));return{items:n,totalAmount:c}}if("REMOVE"===t.type){var o,j=e.items.findIndex((function(e){return e.id===t.id})),d=e.items[j],l=e.totalAmount-d.Price;if(localStorage.setItem("items",JSON.stringify(o)),1===d.amount)o=e.items.filter((function(e){return e.id!==t.id})),localStorage.setItem("items",JSON.stringify(o));else{var u=Object(i.a)(Object(i.a)({},d),{},{amount:d.amount-1});(o=Object(D.a)(e.items))[j]=u,localStorage.setItem("items",JSON.stringify(o))}return{items:o,totalAmount:l}}return R},J=function(e){var t=Object(c.useReducer)(F,R),n=Object(_.a)(t,2),r=n[0],a=n[1],s={items:r.items,totalAmount:r.totalAmount,addItem:function(e){a({type:"ADD",item:e})},removeItem:function(e){a({type:"REMOVE",id:e})}};return Object(l.jsx)(o.Provider,{value:s,children:e.children})},B=n(26),M=n.n(B),T=function(e){return Object(l.jsxs)("div",{className:M.a.info,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e.Image,alt:"No"}),Object(l.jsx)("center",{})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:e.name}),Object(l.jsxs)("h4",{children:[" Rating:  ",e.Rating," "]}),Object(l.jsxs)("p",{children:[" ",e.summary," "]})]})]})},H=function(e){var t=Object(c.useState)([]),n=Object(_.a)(t,2),r=n[0],a=n[1],s=Object(h.g)().id,i=Object(c.useCallback)(Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" https://api.tvmaze.com/shows/".concat(s,"?embed=cast"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n),console.log(n);case 8:case"end":return e.stop()}}),e)}))),[s]);return Object(c.useEffect)((function(){i()}),[i]),!!r&&Object(l.jsx)("div",{children:Object(l.jsx)(T,{name:r.name,Image:r.image?r.image.original:y,Rating:r.rating?r.rating.average:null,summary:r.summary})})};var K=function(){return Object(l.jsx)(J,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(p,{}),Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.b,{path:"/",exact:!0,children:Object(l.jsx)(h.a,{to:"/Shopping-Cart/"})}),Object(l.jsx)(h.b,{path:"/Shopping-Cart/",exact:!0,children:Object(l.jsx)(E,{})}),Object(l.jsx)(h.b,{path:"/Shopping-Cart/:CartItems",exact:!0,children:Object(l.jsx)(b,{})}),Object(l.jsx)(h.b,{path:"/CartItems/:productId",exact:!0,children:Object(l.jsx)(I,{})}),Object(l.jsx)(h.b,{path:"/Shopping-Cart/Info/:id",exact:!0,children:Object(l.jsx)(H,{})}),Object(l.jsx)(h.b,{children:Object(l.jsx)("div",{children:"Not Found 404"})})]})]})})};s.a.render(Object(l.jsx)(m.a,{children:Object(l.jsx)(K,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={post:"post_post__2PCPR",enter:"post_enter__3O12T",buttonleft:"post_buttonleft__nkTtC",buttonright:"post_buttonright__1FINh"}}},[[42,1,2]]]);
//# sourceMappingURL=main.463c046b.chunk.js.map